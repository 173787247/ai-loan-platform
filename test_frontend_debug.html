<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‰ç«¯æ ¼å¼åŒ–è°ƒè¯•</title>
    <style>
        .message-text {
            line-height: 1.4;
            word-wrap: break-word;
            white-space: pre-line;
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px 0;
        }
        
        .message-text div {
            margin-bottom: 2px;
        }
        
        .test-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h2>å‰ç«¯æ ¼å¼åŒ–è°ƒè¯•æµ‹è¯•</h2>
        
        <h3>æµ‹è¯•1: ä½¿ç”¨ split('\n').map() æ–¹æ³•</h3>
        <div class="message-text" id="test1"></div>
        
        <h3>æµ‹è¯•2: ç›´æ¥ä½¿ç”¨ white-space: pre-line</h3>
        <div class="message-text" id="test2"></div>
        
        <h3>æµ‹è¯•3: ä½¿ç”¨ innerHTML ç›´æ¥æ’å…¥</h3>
        <div class="message-text" id="test3"></div>
    </div>

    <script>
        // æ¨¡æ‹ŸAIå›å¤å†…å®¹
        const aiResponse = `ğŸ’° **100ä¸‡ä¸ªäººä¿¡ç”¨è´·æ¬¾é“¶è¡Œæ¨è**
==================================================

ğŸ¯ **100ä¸‡è´·æ¬¾æ¨èåˆ†æ**
-----------------------------------

ğŸ† **é¦–é€‰æ¨èï¼šå»ºè®¾é“¶è¡Œ**
------------------------------
âœ… é¢åº¦æ”¯æŒï¼š1-100ä¸‡ï¼ˆæœ€é«˜ï¼‰
âœ… åˆ©ç‡èŒƒå›´ï¼š4.0%-11.5%
âœ… å®¡æ‰¹é€Ÿåº¦ï¼šæœ€å¿«2ä¸ªå·¥ä½œæ—¥
âœ… ç”³è¯·æ¡ä»¶ï¼šæœˆæ”¶å…¥2500å…ƒï¼Œå·¥ä½œ6ä¸ªæœˆ

ğŸ“Š **å…¶ä»–é“¶è¡Œå¯¹æ¯”**
-------------------------

**å·¥å•†é“¶è¡Œ**
  â€¢ é¢åº¦ï¼š1-80ä¸‡ âŒ ä¸æ”¯æŒ100ä¸‡
  â€¢ åˆ©ç‡ï¼š3.5%-10.5%ï¼ˆæœ€ä½ï¼‰
  â€¢ æ¡ä»¶ï¼šæœˆæ”¶å…¥2000å…ƒï¼Œå·¥ä½œ3ä¸ªæœˆ`;

        // æµ‹è¯•1: ä½¿ç”¨ split('\n').map() æ–¹æ³•
        const test1Element = document.getElementById('test1');
        const lines = aiResponse.split('\n');
        console.log('åˆ†å‰²åçš„è¡Œæ•°:', lines.length);
        console.log('å‰5è¡Œ:', lines.slice(0, 5));
        
        test1Element.innerHTML = lines.map((line, index) => 
            `<div key="${index}">${line}</div>`
        ).join('');

        // æµ‹è¯•2: ç›´æ¥ä½¿ç”¨ white-space: pre-line
        const test2Element = document.getElementById('test2');
        test2Element.textContent = aiResponse;

        // æµ‹è¯•3: ä½¿ç”¨ innerHTML ç›´æ¥æ’å…¥
        const test3Element = document.getElementById('test3');
        test3Element.innerHTML = aiResponse.replace(/\n/g, '<br>');
    </script>
</body>
</html>
